<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS_objekty</title>
</head>
<body>
    <script>
        let auto = {}; //deklarace objektu auto
         
        auto.znacka = "BMW"; //přidání vlastnosti objektu auto znacka s hodnotou "BMW"
        console.log(auto); 

        //inicializace objektu s vlastnostmi
        let student = {
            jmeno: 'Jakub',
            vek: 15,
            prumer: 3.5
        };

        console.log(student);
        console.log(student.jmeno); //tečková syntaxe na vypsání hodnoty vlastnosti

        let jmenoStudenta = student.jmeno; //jmenoStudenta dostane a uloží si hodnotu vlastnosti v tu danou chvíli
        student.jmeno = 'Richard';

        console.log(student.jmeno); //Richard
        console.log(jmenoStudenta); //Jakub

        console.log(student['jmeno']); //závorková syntaxe
        let nazevVlastnosti = 'prumer';
        // console.log(student.nazevVlastnosti); nelze
        console.log(student[nazevVlastnosti]); //vypíše vlastnost, dle hodnoty v proměrenné

        let student2 = {
            jmeno: 'Nikola',
            vek: 35,
            prumer: 1.0
        };

        let skola = {
            //obejkt obsahuje reference na původní objekty, které vkládá jako prvky do pole
            studenti: [student, student2]
        };

        console.log(skola);

        student.prumer = 2.0;
        console.log(skola);

        console.log(skola.studenti[1].jmeno);
        console.log(skola['studenti'][1]['jmeno']);
        
        //Když přepisuji vlastnost u objektu v rámci objektu, kde je reference na daný objekt, tak se přepíše vlastnost u objektu samotného
        skola.studenti[1].jmeno = "Františka";
        console.log(student2);

        //smazání vlastnosti s hodnotou
        delete student.jmeno;
        console.log(student);

        function PredstavSe(clovek){
            console.log(`Ahoj, já jsem ${clovek.jmeno} a je mi ${clovek.vek}`)
        };

        PredstavSe(student);
        PredstavSe(student2);
        PredstavSe(skola.studenti[0]);
        PredstavSe(skola.studenti[1]);

        //For cyklus s IN (procházení vlastností, dle jejich názvů)
        for(let key in student2){
            console.log(key);
        }
        
        let objektB = {
            nazev: "B"
        }
        let objektA = {
            nazev: "A",
            druhyObjekt: objektB
        }
        objektB. druhyObjekt =  objektA;
        
        console.log(objektA);


        //Ref vs. hodnota
        

        const human = {
            name: "George",
            age: 15,
            //metoda objektu
            Starnuti: function() {
                this.age++
            }
        };

        let populationM = 8062;
        const world = {
            humans: [human],
            //vytváří se pouze reference (odkaz) na objekt human
            population: populationM
        }

        human.name = "Ricardo"; //když manipuluji s objektem
        console.log(world.humans[0].name); //v rámci reference se manipulace propíše

        world.humans[0].name = "Jacob";
        console.log(human.name);

        populationM = 9100;
        console.log(world.population);

        //Metody objektu

        //přidání metody objektu
        human.introduction = function() {
            console.log(`Hello I'am ${this.name} and ${this.age} years old`);
        }

        human.introduction();
        human.Starnuti();
        human.Starnuti();
        human.Starnuti();
        human.introduction();

        //Třída a konstruktory
        class Car {
            constructor(automat, brand) {
                this.wheels = 4;
                this.motor = 1;
                this.automat = automat;
                this.brand = brand;
            }
            Go() {
                if(this.wheels == 4)
            {
                return "brm brm brm";
            } else {
                return "auto nejede";
            }
            }
        }

        const mojeAuto = new Car(true, "BMW");
        const sousedAuto = new Car(false, "Toyota");

        console.log(mojeAuto);
        console.log(mojeAuto.Go());
        sousedAuto.wheels = 0;
        console.log(sousedAuto.Go());

        //Dědičnost tříd
        class Model extends Car {
            constructor(automat, brand) {
                super(automat, brand) //tohle se pošle do konstruktoru třídě rodičovské
            }

            Show() {
                return `Look at my car ${this.brand} with ${this.wheels} wheels!`
            }
        }

        //mojeAuto.Show();
        mojeNoveAuto = new Model(true, "Fabia");
        console.log(mojeNoveAuto.Show());

        //Prototype -> dá se všem objektům vzniklé z dané třídy
        Car.prototype.spz = "0L100L";

        console.log(mojeAuto.spz);
        console.log(sousedAuto.spz);

        //Iterace v objektu pomocí entries a values

        for(let hodnota of Object.values(mojeNoveAuto))
        {
            console.log(hodnota);
        }

        for(let zaznam of Object.entries(mojeNoveAuto))
        {
            console.log(zaznam);
            console.log(`${zaznam[0]}: ${zaznam[1]}`);
        }
    </script>
</body>
</html>